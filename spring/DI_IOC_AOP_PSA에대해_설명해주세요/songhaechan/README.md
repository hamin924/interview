## DI IOC AOP PSA

IoC는 제어의 역전이라는 의미로 우리가 스프링 프레임워크를 사용하는 핵심 이유이기도 하다.

스프링 프레임워크 없이 개발하게되면, 모든 객체의 수명관리, 의존관계 설정은 개발자가 직접 해야한다.

하지만 스프링은 IoC(DI Container)를 이용해 개발자가 등록한 빈을 싱글톤으로 생성해 수명을 관리하고, 의존관계를 설정할 수 있다.

IoC와 뗄 수 없는 개념이 DI인데, DI는 의존관계주입으로 spring을 더 객체지향적으로 만들어준다.

A-->B 와같은 의존관계가 있다는 것은 A는 B를 사용한다는 것과 같은 말인데, 만약 A가 B의 구체 클래스 정보를 알고 사용한다면 강하게 결합된다.

A는 B라는 인터페이스에 기대어 결합도를 낮추고 의존관계는 제3자가 주입하게된다.

주입하는 주체는 스프링의 DI container가 된다.

PSA는 추상화를 이용한 서비스 설계를 의미한다.

순수한 JDBC를 이용해 트랜잭션 관리를 하다 JPA로 변경하려면 모든 트랜잭션 코드를 변경해야한다.

하지만 스프링은 인터페이스를 앞에 두고 추상화를 적용해 인터페이스를 구현한 클래스를 이용해 모든 트랜잭션 코드를 변경없이 사용할 수 있게 했다.

자바의 컬렉션 프레임워크도 같은 개념이다.

AOP는 주된 관심사와 부차적인 관심사를 따로 나누어 부차적인 관심사는 한 곳에서 관리하고 주된 관심사인 핵심 서비스로직에 집중할 수 있게하는 기술이다.

@Transaction이 AOP를 이용해 구현된 예시인데, DB 커넥션을 얻어오고 트랜잭션 관리하는 코드는 많은 서비스 메서드에서 반복적으로 등장하고, 그 부피가 상당히 크다.

서비스레이어에서 트랜잭션을 관리해야하지만 트랜잭션관리는 서비스로직과 별개로 부차적인 관심사이다.

이런 코드를 분리해내는 기술이 AOP다.
