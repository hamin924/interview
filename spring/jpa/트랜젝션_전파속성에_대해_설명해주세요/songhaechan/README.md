## 전파속성

예시를 들어보자

글을 임시저장하는 기능을 수행하는데 임시저장하는 로깅기능을 추가로 수행해야한다. 이때 로깅작업에서 예외가 발생해 롤백되는 상황이 발생했는데, 전파속성이 기본값 REQUIRED라면 임시저장 기능까지 롤백된다.

이런 문제를 해결하려면 전파속성을 제어해줘야한다.

기본 속성인 REQURIED는 부모 트랜잭션이 없다면 새롭게 생성하고 부모 트랜잭션이 있다면 새로운 논리 트랜잭션을 생성한다. 논리 트랜잭션은 DB커넥션을 새롭게 생성하지않고 공유한다.

기본속성은 부모트랜잭션이 롤백되거나 커밋될때 실제 DB에 반영되고, 롤백은 둘 중 하나라도 발생하면 수행된다.

REQURIES_NEW 속성은 무조건 새로운 DB커넥션을 생성하는 전파속성이다. 위 예시의 문제를 해결하기위해선 이 속성을 사용해야한다. 하지만 부모트랜잭션은 자식트랜잭션 종료까지 무작정 대기하기때문에 CP고갈문제가 있다.
